<!DOCTYPE html>
<html>
<head>
    <title>Sopa de Letras</title>
    <style>
      #puzzle {
        width: 300px;
        height: 300px;
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-template-rows: repeat(10, 1fr);
      }

      #puzzle div {
        border: 1px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #wordList {
        margin-top: 20px;
      }

      #wordList ul {
        list-style-type: none;
      }

      .found {
        background-color: yellow;
      }
    </style>
</head>
<body>
    <h1>Sopa de Letras</h1>
    <div id="puzzle"></div>
    <div id="wordList">
        <h2>Palabras para buscar:</h2>
        <ul id="words"></ul>
    </div>

    <script>
      const words = ["hola", "amigo", "patata", "sopa", "letras"]; // Palabras para buscar

      const puzzleContainer = document.getElementById("puzzle");
      const wordList = document.getElementById("words");

      const rows = 10;
      const cols = 10;

      // Generar el cuadro de la sopa de letras
      for (let i = 0; i < rows; i++) {
          for (let j = 0; j < cols; j++) {
              const letter = document.createElement("div");
              letter.textContent = randomLetter(); // Funci칩n para generar una letra aleatoria
              puzzleContainer.appendChild(letter);
          }
      }

      // Agregar las palabras a buscar
      words.forEach(word => {
          const li = document.createElement("li");
          li.textContent = word;
          const button = document.createElement("button");
          button.textContent = "Buscar";
          button.addEventListener("click", () => {
              findWord(word);
          });
          li.appendChild(button);
          wordList.appendChild(li);
      });

      function randomLetter() {
          const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
          return alphabet[Math.floor(Math.random() * alphabet.length)];
      }

      function findWord(word) {
          const cells = puzzleContainer.children;

          for (let i = 0; i < cells.length; i++) {
              const cell = cells[i];
              cell.classList.remove("found");
          }

          const directions = ["horizontal", "vertical", "diagonal", "inverse"];
          const direction = directions[Math.floor(Math.random() * directions.length)];

          // L칩gica para encontrar la palabra en la direcci칩n dada
          // Implementando las direcciones de manera m치s completa

          if (direction === "horizontal") {
            let row = Math.floor(Math.random() * rows);
            let col = Math.floor(Math.random() * (cols - word.length + 1));

            for (let i = 0; i < word.length; i++) {
              const index = row * cols + col + i;
              const cell = cells[index];
              cell.textContent = word[i];
            }
          } else if (direction === "vertical") {
            let row = Math.floor(Math.random() * (rows - word.length + 1));
            let col = Math.floor(Math.random() * cols);

            for (let i = 0; i < word.length; i++) {
              const index = (row + i) * cols + col;
              const cell = cells[index];
              cell.textContent = word[i];
            }
          } else if (direction === "diagonal") {
            let startRow = Math.floor(Math.random() * (rows - word.length + 1));
            let startCol = Math.floor(Math.random() * (cols - word.length + 1));

            for (let i = 0; i < word.length; i++) {
              const index = (startRow + i) * cols + (startCol + i);
              const cell = cells[index];
              cell.textContent = word[i];
            }
          } else if (direction === "inverse") {
            let endRow = Math.floor(Math.random() * (rows - word.length + 1)) + word.length - 1;
            let endCol = Math.floor(Math.random() * (cols - word.length + 1)) + word.length - 1;

            for (let i = 0; i < word.length; i++) {
              const index = (endRow - i) * cols + (endCol - i);
              const cell = cells[index];
              cell.textContent = word[i];
            }
          }
      }
    </script>
</body>
</html>
