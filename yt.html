<!DOCTYPE html>
<html>
<head>
    <title>Sopa de Letras</title>
    <style>
      #puzzle {
        width: 300px;
        height: 300px;
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-template-rows: repeat(10, 1fr);
      }

      #puzzle div {
        border: 1px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #wordList {
        margin-top: 20px;
      }

      #wordList ul {
        list-style-type: none;
      }

      .found {
        background-color: yellow;
      }
    </style>
</head>
<body>
    <h1>Sopa de Letras</h1>
    <div id="puzzle"></div>
    <div id="wordList">
        <h2>Palabras para buscar:</h2>
        <ul id="words"></ul>
    </div>

    <script>
      const words = ["hola", "amigo", "patata", "sopa", "letras"]; // Palabras para buscar
      const directions = ["horizontal", "vertical", "diagonal", "inverse"]; // Direcciones posibles

      const puzzleContainer = document.getElementById("puzzle");
      const wordList = document.getElementById("words");

      // Generar el cuadro de la sopa de letras
      for (let i = 0; i < 10; i++) {
          for (let j = 0; j < 10; j++) {
              const letter = document.createElement("div");
              letter.textContent = randomLetter(); // Funci칩n para generar una letra aleatoria
              puzzleContainer.appendChild(letter);
          }
      }

      // Agregar las palabras a buscar
      words.forEach(word => {
          const li = document.createElement("li");
          li.textContent = word;
          const button = document.createElement("button");
          button.textContent = "Buscar";
          button.addEventListener("click", () => {
              findWord(word);
          });
          li.appendChild(button);
          wordList.appendChild(li);
      });

      function randomLetter() {
          const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
          return alphabet[Math.floor(Math.random() * alphabet.length)];
      }

      function findWord(word) {
          const cells = puzzleContainer.children;

          for (let i = 0; i < cells.length; i++) {
              const cell = cells[i];
              cell.classList.remove("found");
          }

          const directions = ["horizontal", "vertical", "diagonal", "inverse"];
          const direction = directions[Math.floor(Math.random() * directions.length)];

          const rows = 10;
          const cols = 10;

          // L칩gica para encontrar la palabra en la direcci칩n dada
          // Implementando las direcciones de manera m치s completa
          if (direction === "horizontal") {
            const maxCol = cols - word.length;
            const row = Math.floor(Math.random() * rows);

            for (let col = 0; col <= maxCol; col++) {
              let found = true;

              for (let i = 0; i < word.length; i++) {
                const index = row * cols + col + i;
                const cell = cells[index];

                if (cell.textContent !== word[i]) {
                  found = false;
                  break;
                }
              }

              if (found) {
                for (let i = 0; i < word.length; i++) {
                  const index = row * cols + col + i;
                  const cell = cells[index];
                  cell.classList.add("found");
                }
                break;
              }
            }
          } else if (direction === "vertical") {
            const maxRow = rows - word.length;
            const col = Math.floor(Math.random() * cols);

            for (let row = 0; row <= maxRow; row++) {
              let found = true;

              for (let i = 0; i < word.length; i++) {
                const index = (row + i) * cols + col;
                const cell = cells[index];

                if (cell.textContent !== word[i]) {
                  found = false;
                  break;
                }
              }

              if (found) {
                for (let i = 0; i < word.length; i++) {
                  const index = (row + i) * cols + col;
                  const cell = cells[index];
                  cell.classList.add("found");
                }
                break;
              }
            }
          } else if (direction === "diagonal") {
            const maxRow = rows - word.length;
            const maxCol = cols - word.length;
            const row = Math.floor(Math.random() * maxRow);
            const col = Math.floor(Math.random() * maxCol);

            let found = true;

            for (let i = 0; i < word.length; i++) {
              const index = (row + i) * cols + col + i;
              const cell = cells[index];

              if (cell.textContent !== word[i]) {
                found = false;
                break;
              }
            }

            if (found) {
              for (let i = 0; i < word.length; i++) {
                const index = (row + i) * cols + col + i;
                const cell = cells[index];
                cell.classList.add("found");
              }
            }
          } else if (direction === "inverse") {
            const maxRow = rows - word.length;
            const maxCol = cols - word.length;
            const row = Math.floor(Math.random() * maxRow) + word.length - 1;
            const col = Math.floor(Math.random() * maxCol) + word.length - 1;

            let found = true;

            for (let i = 0; i < word.length; i++) {
              const index = (row - i) * cols + col - i;
              const cell = cells[index];

              if (cell.textContent !== word[i]) {
                found = false;
                break;
              }
            }

            if (found) {
              for (let i = 0; i < word.length; i++) {
                const index = (row - i) * cols + col - i;
                const cell = cells[index];
                cell.classList.add("found");
              }
            }
          }
      }
    </script>
</body>
</html>
